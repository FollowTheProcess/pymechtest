
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python package to automate the boring bits of mechanical test data analysis!">
      
      
      
        <meta name="author" content="Tom Fleet">
      
      
        <link rel="canonical" href="https://followtheprocess.github.io/pymechtest/getting_started/plot.html">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>Plot Curves - pymechtest</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Ubuntu",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plot-curves" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://followtheprocess.github.io/pymechtest/" title="pymechtest" class="md-header-nav__button md-logo" aria-label="pymechtest">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            pymechtest
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Plot Curves
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/FollowTheProcess/pymechtest/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://followtheprocess.github.io/pymechtest/" title="pymechtest" class="md-nav__button md-logo" aria-label="pymechtest">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    pymechtest
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/FollowTheProcess/pymechtest/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
      
      <label class="md-nav__link" for="nav-2">
        Getting Started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="usage.html" class="md-nav__link">
        Usage
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="options.html" class="md-nav__link">
        Options
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Plot Curves
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="plot.html" class="md-nav__link md-nav__link--active">
        Plot Curves
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plot_curves" class="md-nav__link">
    plot_curves
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pymechtest.base.BaseMechanicalTest.plot_curves" class="md-nav__link">
    pymechtest.base.BaseMechanicalTest.plot_curves
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-your-plot" class="md-nav__link">
    Making your plot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjusting-your-plot" class="md-nav__link">
    Adjusting your plot
  </a>
  
    <nav class="md-nav" aria-label="Adjusting your plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-the-title" class="md-nav__link">
    Set the Title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-axis-labels" class="md-nav__link">
    Set the Axis Labels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#saving-your-plot" class="md-nav__link">
    Saving your plot
  </a>
  
    <nav class="md-nav" aria-label="Saving your plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note-about-saving" class="md-nav__link">
    Note about saving
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        Contributing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/help.html" class="md-nav__link">
        Help
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/guide.html" class="md-nav__link">
        How to
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../roadmap.html" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog.html" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
      
      <label class="md-nav__link" for="nav-6">
        API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1" >
      
      <label class="md-nav__link" for="nav-6-1">
        Static Tests
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Static Tests" data-md-level="2">
        <label class="md-nav__title" for="nav-6-1">
          <span class="md-nav__icon md-icon"></span>
          Static Tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/tensile.html" class="md-nav__link">
        Tensile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/compression.html" class="md-nav__link">
        Compression
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/flexure.html" class="md-nav__link">
        Flexure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/shear.html" class="md-nav__link">
        Shear
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plot_curves" class="md-nav__link">
    plot_curves
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pymechtest.base.BaseMechanicalTest.plot_curves" class="md-nav__link">
    pymechtest.base.BaseMechanicalTest.plot_curves
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-your-plot" class="md-nav__link">
    Making your plot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjusting-your-plot" class="md-nav__link">
    Adjusting your plot
  </a>
  
    <nav class="md-nav" aria-label="Adjusting your plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-the-title" class="md-nav__link">
    Set the Title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-axis-labels" class="md-nav__link">
    Set the Axis Labels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#saving-your-plot" class="md-nav__link">
    Saving your plot
  </a>
  
    <nav class="md-nav" aria-label="Saving your plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note-about-saving" class="md-nav__link">
    Note about saving
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/FollowTheProcess/pymechtest/edit/master/docs/getting_started/plot.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="plot-curves">Plot Curves<a class="headerlink" href="#plot-curves" title="Permanent link">&para;</a></h1>
<p>Probably the most important thing to do when analysing mechanical test data is to plot stress-strain curves for the batch so you can compare.</p>
<p>pymechtest uses <a href="https://altair-viz.github.io">altair</a> which makes it super easy to plot really nice looking stress-strain curves by default.</p>
<p>The pymechtest plot style is very opinionated, the plots will come out looking the same every time and the API exposes very little in the way of customisation. If you want full control over how you want the plots to look, you might want to just do it manually by loading the data in with <code>.load_all()</code> and then using whatever plotting tool you like.</p>
<p>Every static test method currently supported in pymechtest has a <code>.plot_curves()</code> method. Lets take a look at it...</p>
<h2 id="plot_curves"><code>plot_curves</code><a class="headerlink" href="#plot_curves" title="Permanent link">&para;</a></h2>
<div class="doc doc-object doc-method">
<h2 class="hidden-toc" id="pymechtest.base.BaseMechanicalTest.plot_curves" style="visibility: hidden; position: absolute;">
        <a class="headerlink" href="#pymechtest.base.BaseMechanicalTest.plot_curves" title="Permanent link">&para;</a></h2>
<div class="doc doc-contents first">
<p>Creates a nice looking stress strain plot of all the specimens using altair.</p>
<p>Will use the class name to fill in axis labels if not passed, e.g
'Tensile' Strain</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>Title for the plot.
Defaults to "{class_name} Stress-Strain Curves".</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>save_path</code></td>
<td><code>Union[str, pathlib.Path]</code></td>
<td>
<p>str or Pathlike path to save
a png of the plot. Requires chrome and selenium. If not passed, plot
is simply returned and not saved.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>save_method</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>One of 2 altair save methods:
'selenium' or 'node'.
if 'selenium' requires a configured geckodriver or chromedriver on PATH.
if 'node' requires nodejs installation. Defaults to 'selenium'</p>
</td>
<td><code>'selenium'</code></td>
</tr>
<tr>
<td><code>x_label</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>Label for x-axis.
Defaults to "{class name}Strain (%)".</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>y_label</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>Label for y-axis.
Defaults to "{class name}Stress (MPa)".</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>int</code></td>
<td>
<p>Height of the plot.
Defaults to 500.</p>
</td>
<td><code>500</code></td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>int</code></td>
<td>
<p>Width of the plot.
Defaults to 750.</p>
</td>
<td><code>750</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Chart</code></td>
<td>
<p>alt.Chart: Stress strain plot.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>pymechtest/base.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">plot_curves</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">save_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">save_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"selenium"</span><span class="p">,</span>
    <span class="n">x_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">y_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">750</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Creates a nice looking stress strain plot of all the specimens using altair.</span>

<span class="sd">    Will use the class name to fill in axis labels if not passed, e.g</span>
<span class="sd">    'Tensile' Strain</span>

<span class="sd">    Args:</span>
<span class="sd">        title (str, optional): Title for the plot.</span>
<span class="sd">            Defaults to "{class_name} Stress-Strain Curves".</span>

<span class="sd">        save_path (Union[str, Path], optional): str or Pathlike path to save</span>
<span class="sd">            a png of the plot. Requires chrome and selenium. If not passed, plot</span>
<span class="sd">            is simply returned and not saved.</span>

<span class="sd">        save_method (str, optional): One of 2 altair save methods:</span>
<span class="sd">            'selenium' or 'node'.</span>
<span class="sd">            if 'selenium' requires a configured geckodriver or chromedriver on PATH.</span>
<span class="sd">            if 'node' requires nodejs installation. Defaults to 'selenium'</span>

<span class="sd">        x_label (str, optional): Label for x-axis.</span>
<span class="sd">            Defaults to "{class name}Strain (%)".</span>

<span class="sd">        y_label (str, optional): Label for y-axis.</span>
<span class="sd">            Defaults to "{class name}Stress (MPa)".</span>

<span class="sd">        height (int, optional): Height of the plot.</span>
<span class="sd">            Defaults to 500.</span>

<span class="sd">        width (int, optional): Width of the plot.</span>
<span class="sd">            Defaults to 750.</span>

<span class="sd">    Returns:</span>
<span class="sd">        alt.Chart: Stress strain plot.</span>
<span class="sd">    """</span>

    <span class="c1"># Altair will warn if over 5,000 rows in a notebook. This is cleanest solution.</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">data_transformers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s2">"data_server"</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">x_label</span><span class="p">:</span>
        <span class="n">x_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2"> Strain (%)"</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">y_label</span><span class="p">:</span>
        <span class="n">y_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2"> Stress (MPa)"</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2"> Stress Strain Curves"</span>

    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_all</span><span class="p">()</span>

    <span class="n">chart</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
        <span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">strain_col</span><span class="si">}</span><span class="s2">:Q"</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">x_label</span><span class="p">),</span>
            <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stress_col</span><span class="si">}</span><span class="s2">:Q"</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">y_label</span><span class="p">),</span>
            <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">"Specimen ID:N"</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">"Specimen ID"</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">save_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">([</span><span class="s2">"selenium"</span><span class="p">,</span> <span class="s2">"node"</span><span class="p">]):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"Save method must be one of 'selenium' or 'node'. Got: </span><span class="si">{</span><span class="n">save_method</span><span class="si">}</span><span class="s2">"</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">save_path</span><span class="p">:</span>
        <span class="n">fp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">save_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="n">save</span><span class="p">(</span>
            <span class="n">chart</span><span class="p">,</span>
            <span class="n">fp</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="mf">6.0</span><span class="p">,</span>
            <span class="n">method</span><span class="o">=</span><span class="n">save_method</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">chart</span>
</code></pre>
</div>
</details>
</div>
</div>
<h2 id="making-your-plot">Making your plot<a class="headerlink" href="#making-your-plot" title="Permanent link">&para;</a></h2>
<p>In 90% of the cases, you will probably just need to call <code>plot_curves()</code> with no arguments. Again, following the principle of <strong>sensible defaults</strong>, pymechtest will fill out a lot of the information for you.</p>
<p>For instance, if you're calling <code>plot_curves()</code> from an instance of the <code>Tensile</code> class, the title will be "Tensile Stress Strain Curves" and the axes titles will be "Tensile Stress" and "Tensile Strain".</p>
<p>Like so...</p>
<p><img alt="plot_curves" src="../img/plot_curves.png" /></p>
<h2 id="adjusting-your-plot">Adjusting your plot<a class="headerlink" href="#adjusting-your-plot" title="Permanent link">&para;</a></h2>
<p>If you do want to specify things like the size of the plot, the title, the axis labels etc. pymechtest allows you to do that!</p>
<h3 id="set-the-title">Set the Title<a class="headerlink" href="#set-the-title" title="Permanent link">&para;</a></h3>
<p>If you don't want the default title of <code>{class_name} Stress Strain Curves</code> you can set your own using the <code>title</code> argument:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pymechtest</span> <span class="kn">import</span> <span class="n">Tensile</span>

<span class="n">tens</span> <span class="o">=</span> <span class="n">Tensile</span><span class="p">(</span><span class="n">folder</span> <span class="o">=</span> <span class="s2">&quot;path/to/raw/data&quot;</span><span class="p">,</span> <span class="n">id_row</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>

<span class="n">tens</span><span class="o">.</span><span class="n">plot_curves</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;My Special Title&quot;</span><span class="p">)</span>
</code></pre></div>
<p><img alt="plot_title" src="../img/plot_with_title.png" /></p>
<h3 id="set-the-axis-labels">Set the Axis Labels<a class="headerlink" href="#set-the-axis-labels" title="Permanent link">&para;</a></h3>
<p>Similarly, you can set the axis labels if you like:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pymechtest</span> <span class="kn">import</span> <span class="n">Tensile</span>

<span class="n">tens</span> <span class="o">=</span> <span class="n">Tensile</span><span class="p">(</span><span class="n">folder</span> <span class="o">=</span> <span class="s2">&quot;path/to/raw/data&quot;</span><span class="p">,</span> <span class="n">id_row</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>

<span class="n">tens</span><span class="o">.</span><span class="n">plot_curves</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;My Special Title&quot;</span><span class="p">,</span> <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Super Secret x Axis&quot;</span><span class="p">,</span> <span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;Super Secret y Axis&quot;</span><span class="p">)</span>
</code></pre></div>
<p><img alt="plot_title_labels" src="../img/plot_with_title_labels.png" /></p>
<h2 id="saving-your-plot">Saving your plot<a class="headerlink" href="#saving-your-plot" title="Permanent link">&para;</a></h2>
<p>Now making all these nice graphs wouldn't be much good if you couldn't save them to use later!</p>
<p>Luckily, you can do that too! By default, pymechtest won't save anything it will just show you the plot (if you're in a jupyter notebook). If you want it to save your plot somewhere, you need to pass it a path:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pymechtest</span> <span class="kn">import</span> <span class="n">Tensile</span>

<span class="n">tens</span> <span class="o">=</span> <span class="n">Tensile</span><span class="p">(</span><span class="n">folder</span> <span class="o">=</span> <span class="s2">&quot;path/to/raw/data&quot;</span><span class="p">,</span> <span class="n">id_row</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>

<span class="n">tens</span><span class="o">.</span><span class="n">plot_curves</span><span class="p">(</span><span class="n">save_path</span> <span class="o">=</span> <span class="s2">&quot;path/to/graph.png&quot;</span><span class="p">)</span>
</code></pre></div>
<p>You must pass a valid file extension for this bit, which is one of:</p>
<ul>
<li><code>.png</code></li>
<li><code>.svg</code></li>
</ul>
<p>Then pymechtest will then save your graph to the path you specify.</p>
<h3 id="note-about-saving">Note about saving<a class="headerlink" href="#note-about-saving" title="Permanent link">&para;</a></h3>
<p>I've mentioned before that pymechtest uses <a href="https://altair-viz.github.io">altair</a> to generate the graphs. The way altair works is it turns your data into a vega or vega-lite schema (similar to JSON), this is then interpreted by the inner workings of altair and then rendered in your jupyter notebook (or supporting IDE) by javascript running in the browser (or the IDE).</p>
<p>To turn the graph into a static image (<code>.png</code> or <code>.svg</code>) altair converts the javascript rendering into an image file.</p>
<p>In order to do this, it needs to pipe the schema through a headless browser (or use nodejs). Which means you need to have installed one of the following options:</p>
<p>1) Google Chrome and the latest version of <a href="https://chromedriver.chromium.org/downloads">chromedriver</a></p>
<p>2) Firefox and the latest version of <a href="https://github.com/mozilla/geckodriver">geckodriver</a></p>
<p>3) <a href="https://nodejs.org/en/">nodejs</a></p>
<p>The first two options are super easy to install and once you've done it once that's it you don't need to worry about it again! Let's face it, you probably already have either firefox or chrome anyway!</p>
<p>Installing nodejs is probably easy too, I've personally only ever done this with <a href="https://brew.sh">homebrew</a> on a mac or with <a href="https://docs.conda.io/en/latest/">conda</a> inside a conda environment:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># with homebrew</span>
brew install node

<span class="c1"># with conda</span>
conda install -c conda-forge nodejs
</code></pre></div>
<p>pymechtest's default is to use the selenium and browser option, so if you save your graph as in the example above (without passing anything to the <code>save_method</code> argument) this is the method that will be used.</p>
<p>If you have chromedriver and chrome it will use that, and if you have geckodriver and firefox it will use that.</p>
<p>If you want to use <a href="https://nodejs.org/en/">nodejs</a>, you need to pass <code>node</code> to the <code>save_method</code> argument, like so:</p>
<div class="highlight"><pre><span></span><code><span class="n">tens</span><span class="o">.</span><span class="n">plot_curves</span><span class="p">(</span><span class="n">save_path</span> <span class="o">=</span> <span class="s2">&quot;path/to/graph.png&quot;</span><span class="p">,</span> <span class="n">save_method</span> <span class="o">=</span> <span class="s2">&quot;node&quot;</span><span class="p">)</span>
</code></pre></div>
<p>More info on this can be found in <a href="https://github.com/altair-viz/altair_saver/">altair saver</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="options.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Options
              </div>
            </div>
          </a>
        
        
          <a href="../contributing/help.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Help
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>